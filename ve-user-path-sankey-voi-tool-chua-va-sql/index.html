<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="profile" href="https://gmpg.org/xfn/11">
<link media="all" href="/wp-content/cache/autoptimize/css/autoptimize_ae49aa228a85baa6eb8b3c4edac533e5.css" rel="stylesheet">
<title>Vẽ user-path (Sankey) với tool chùa và SQL &#8211; Tuan | ANALYTIC</title> <script type="e25daf01e64b84dcb3e9141b-text/javascript">function theChampLoadEvent(e){var t=window.onload;if(typeof window.onload!="function"){window.onload=e}else{window.onload=function(){t();e()}}}</script> <script type="e25daf01e64b84dcb3e9141b-text/javascript">var theChampDefaultLang = 'en_US', theChampCloseIconPath = '/wp-content/plugins/super-socializer/images/close.png';</script> <script type="e25daf01e64b84dcb3e9141b-text/javascript">var theChampSiteUrl = '', theChampVerified = 0, theChampEmailPopup = 0, heateorSsMoreSharePopupSearchText = 'Search';</script> <script type="e25daf01e64b84dcb3e9141b-text/javascript">var theChampFBKey = '', theChampFBLang = 'en_US', theChampFbLikeMycred = 0, theChampSsga = 0, theChampCommentNotification = 0, theChampHeateorFcmRecentComments = 0, theChampFbIosLogin = 0;</script> <script type="e25daf01e64b84dcb3e9141b-text/javascript">var theChampFBCommentUrl = '/ve-user-path-sankey-voi-tool-chua-va-sql/'; var theChampFBCommentColor = 'light'; var theChampFBCommentNumPosts = ''; var theChampFBCommentWidth = '100%'; var theChampFBCommentOrderby = 'social'; var theChampCommentingTabs = "facebook,twitter", theChampGpCommentsUrl = '/ve-user-path-sankey-voi-tool-chua-va-sql/', theChampDisqusShortname = 'disqus', theChampScEnabledTabs = 'fb', theChampScLabel = 'Comment area', theChampScTabLabels = {"wordpress":"Default Comments (0)","fb":"Facebook Comments","disqus":"Disqus Comments"}, theChampGpCommentsWidth = 0, theChampCommentingId = 'respond'</script> <meta name="robots" content="max-image-preview:large, max-snippet:-1, max-video-preview:-1">
<link rel="canonical" href="/ve-user-path-sankey-voi-tool-chua-va-sql/">
<meta name="description" content="Trực quan hóa dữ liệu, học phân tích dữ liệu cùng Tuấn.Sử dụng SQL để vẽ user path, sankey chart giống hệt Google Analytics, hướng dẫn chi tiết .">
<meta property="og:title" content="Vẽ user-path (Sankey) với tool chùa và SQL &#8211; Tuan | ANALYTIC">
<meta property="og:type" content="article">
<meta property="og:image" content="https://i.stack.imgur.com/oDMaD.png">
<meta property="og:image:width" content="1430">
<meta property="og:image:height" content="679">
<meta property="og:image:alt" content="Vẽ user-path (Sankey) với tool chùa và SQL">
<meta property="og:description" content="Trực quan hóa dữ liệu, học phân tích dữ liệu cùng Tuấn.Sử dụng SQL để vẽ user path, sankey chart giống hệt Google Analytics, hướng dẫn chi tiết .">
<meta property="og:url" content="/ve-user-path-sankey-voi-tool-chua-va-sql/">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Tuan | ANALYTIC">
<meta property="article:published_time" content="2021-02-24T06:32:04+00:00">
<meta property="article:modified_time" content="2021-06-05T01:24:13+00:00">
<meta property="og:updated_time" content="2021-06-05T01:24:13+00:00">
<meta property="article:section" content="Phân tích dữ liệu">
<meta property="article:tag" content="data visualization">
<meta property="article:tag" content="sankey">
<meta property="article:tag" content="sql">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://i.stack.imgur.com/oDMaD.png">
<meta name="author" content="Tuan">
<meta name="date" content="2021-02-24T06:32:04+00:00">
<link rel="dns-prefetch" href="//www.googletagmanager.com">
<link rel="dns-prefetch" href="//pagead2.googlesyndication.com">
<link href="https://fonts.gstatic.com/" crossorigin="anonymous" rel="preconnect">
<link rel="alternate" type="application/rss+xml" title="Tuan | ANALYTIC &raquo; Feed" href="/feed/">
<link rel="alternate" type="application/rss+xml" title="Tuan | ANALYTIC &raquo; Comments Feed" href="/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="Tuan | ANALYTIC &raquo; Vẽ user-path (Sankey) với tool chùa và SQL Comments Feed" href="/ve-user-path-sankey-voi-tool-chua-va-sql/feed/"> <script type="e25daf01e64b84dcb3e9141b-text/javascript">window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.7.2"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"🏳️‍⚧️","🏳️​⚧️")?!1:!n(e,"🇺🇳","🇺​🇳")&&!n(e,"🏴󠁧󠁢󠁥󠁮󠁧󠁿","🏴​󠁧​󠁢​󠁥​󠁮​󠁧​󠁿");case"emoji":return!n(e,"🐦‍⬛","🐦​⬛")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);</script> <!--[if IE]> <script src="/wp-content/themes/astra/assets/js/minified/flexibility.min.js?ver=4.0.2" id="astra-flexibility-js"></script> <script id="astra-flexibility-js-after">flexibility(document.documentElement);</script> <![endif]--><link rel="https://api.w.org/" href="/wp-json/">
<link rel="alternate" title="JSON" type="application/json" href="/wp-json/wp/v2/posts/39">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd">
<meta name="generator" content="WordPress 6.7.2">
<link rel="shortlink" href="/?p=39">
<link rel="alternate" title="oEmbed (JSON)" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=https%3A%2F%2F%2Fve-user-path-sankey-voi-tool-chua-va-sql%2F">
<link rel="alternate" title="oEmbed (XML)" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=https%3A%2F%2F%2Fve-user-path-sankey-voi-tool-chua-va-sql%2F#038;format=xml">
<meta property="og:image" content="https://i.stack.imgur.com/oDMaD.png">
<meta name="twitter:image" content="https://i.stack.imgur.com/oDMaD.png">
<meta name="generator" content="Site Kit by Google 1.146.0">
<meta name="google-adsense-platform-account" content="ca-host-pub-2644536267352236">
<meta name="google-adsense-platform-domain" content="sitekit.withgoogle.com">  <script async src="https://www.googletagmanager.com/gtag/js?id=G-CC82V5Z406" type="e25daf01e64b84dcb3e9141b-text/javascript"></script> <script type="e25daf01e64b84dcb3e9141b-text/javascript">window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-CC82V5Z406');</script>  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5877339755641507&amp;host=ca-host-pub-2644536267352236" crossorigin="anonymous" type="e25daf01e64b84dcb3e9141b-text/javascript"></script> <link rel="icon" href="/wp-content/uploads/2021/06/cropped-logo_version-32x32.png" sizes="32x32">
<link rel="icon" href="/wp-content/uploads/2021/06/cropped-logo_version-192x192.png" sizes="192x192">
<link rel="apple-touch-icon" href="/wp-content/uploads/2021/06/cropped-logo_version-180x180.png">
<meta name="msapplication-TileImage" content="/wp-content/uploads/2021/06/cropped-logo_version-270x270.png">
</head>
<body itemtype="https://schema.org/Blog" itemscope="itemscope" class="post-template-default single single-post postid-39 single-format-standard ast-desktop ast-separate-container ast-right-sidebar astra-4.0.2 ast-blog-single-style-1 ast-single-post ast-inherit-site-logo-transparent ast-hfb-header ast-normal-title-enabled"> <a class="skip-link screen-reader-text" href="#content" role="link" title="Skip to content"> Skip to content</a><div class="hfeed site" id="page">
<header class="site-header header-main-layout-1 ast-primary-menu-enabled ast-logo-title-inline ast-hide-custom-menu-mobile ast-builder-menu-toggle-icon ast-mobile-header-inline" id="masthead" itemtype="https://schema.org/WPHeader" itemscope="itemscope" itemid="#masthead"><div id="ast-desktop-header" data-toggle-type="dropdown">
<div class="ast-main-header-wrap main-header-bar-wrap "><div class="ast-primary-header-bar ast-primary-header main-header-bar site-header-focus-item" data-section="section-primary-header-builder"><div class="site-primary-header-wrap ast-builder-grid-row-container site-header-focus-item ast-container" data-section="section-primary-header-builder"><div class="ast-builder-grid-row ast-builder-grid-row-has-sides ast-builder-grid-row-no-center">
<div class="site-header-primary-section-left site-header-section ast-flex site-header-section-left"><div class="ast-builder-layout-element ast-flex site-header-focus-item" data-section="title_tagline"><div class="site-branding ast-site-identity" itemtype="https://schema.org/Organization" itemscope="itemscope"><div class="ast-site-title-wrap"> <span class="site-title" itemprop="name"> <a href="/" rel="home" itemprop="url"> Tuan | ANALYTIC </a> </span>
</div></div></div></div>
<div class="site-header-primary-section-right site-header-section ast-flex ast-grid-right-section"><div class="ast-builder-menu-1 ast-builder-menu ast-flex ast-builder-menu-1-focus-item ast-builder-layout-element site-header-focus-item" data-section="section-hb-menu-1"><div class="ast-main-header-bar-alignment"><div class="main-header-bar-navigation"><nav class="site-navigation ast-flex-grow-1 navigation-accessibility site-header-focus-item" id="primary-site-navigation" aria-label="Site Navigation" itemtype="https://schema.org/SiteNavigationElement" itemscope="itemscope"><div class="main-navigation ast-inline-flex"><ul id="ast-hf-menu-1" class="main-header-menu ast-menu-shadow ast-nav-menu ast-flex  submenu-with-border stack-on-mobile">
<li id="menu-item-169" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-169"><a href="/" class="menu-link">Trang chủ</a></li>
<li id="menu-item-464" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-has-children menu-item-464">
<a href="/category/analytic-vi/" class="menu-link">Phân tích dữ liệu<span role="presentation" class="dropdown-menu-toggle"><span class="ast-icon icon-arrow"><svg class="ast-arrow-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="26px" height="16.043px" viewbox="57 35.171 26 16.043" enable-background="new 57 35.171 26 16.043" xml:space="preserve"> <path d="M57.5,38.193l12.5,12.5l12.5-12.5l-2.5-2.5l-10,10l-10-10L57.5,38.193z"></path> </svg></span></span></a><button class="ast-menu-toggle" aria-expanded="false"><span class="screen-reader-text">Menu Toggle</span><span class="ast-icon icon-arrow"><svg class="ast-arrow-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="26px" height="16.043px" viewbox="57 35.171 26 16.043" enable-background="new 57 35.171 26 16.043" xml:space="preserve"> <path d="M57.5,38.193l12.5,12.5l12.5-12.5l-2.5-2.5l-10,10l-10-10L57.5,38.193z"></path> </svg></span></button><ul class="sub-menu"><li id="menu-item-465" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-465"><a href="/category/analytic-vi/csdl-database/" class="menu-link"><span class="ast-icon icon-arrow"><svg class="ast-arrow-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="26px" height="16.043px" viewbox="57 35.171 26 16.043" enable-background="new 57 35.171 26 16.043" xml:space="preserve"> <path d="M57.5,38.193l12.5,12.5l12.5-12.5l-2.5-2.5l-10,10l-10-10L57.5,38.193z"></path> </svg></span>CSDL &#8211; Database</a></li></ul>
</li>
<li id="menu-item-168" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-168"><a href="/category/sql/" class="menu-link">Về SQL</a></li>
<li id="menu-item-624" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-624"><a href="/category/python/" class="menu-link">Python</a></li>
<li id="menu-item-165" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-165"><a href="/category/visualization-vi/" class="menu-link">Vẽ đồ thị</a></li>
<li id="menu-item-170" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-170">
<a href="/category/career-vi/" class="menu-link">Công việc<span role="presentation" class="dropdown-menu-toggle"><span class="ast-icon icon-arrow"><svg class="ast-arrow-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="26px" height="16.043px" viewbox="57 35.171 26 16.043" enable-background="new 57 35.171 26 16.043" xml:space="preserve"> <path d="M57.5,38.193l12.5,12.5l12.5-12.5l-2.5-2.5l-10,10l-10-10L57.5,38.193z"></path> </svg></span></span></a><button class="ast-menu-toggle" aria-expanded="false"><span class="screen-reader-text">Menu Toggle</span><span class="ast-icon icon-arrow"><svg class="ast-arrow-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="26px" height="16.043px" viewbox="57 35.171 26 16.043" enable-background="new 57 35.171 26 16.043" xml:space="preserve"> <path d="M57.5,38.193l12.5,12.5l12.5-12.5l-2.5-2.5l-10,10l-10-10L57.5,38.193z"></path> </svg></span></button><ul class="sub-menu"><li id="menu-item-919" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-919"><a href="/category/career-vi/tuyen-dung/" class="menu-link"><span class="ast-icon icon-arrow"><svg class="ast-arrow-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="26px" height="16.043px" viewbox="57 35.171 26 16.043" enable-background="new 57 35.171 26 16.043" xml:space="preserve"> <path d="M57.5,38.193l12.5,12.5l12.5-12.5l-2.5-2.5l-10,10l-10-10L57.5,38.193z"></path> </svg></span>Tuyển Dụng</a></li></ul>
</li>
<li id="menu-item-166" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-166">
<a href="/category/business/" class="menu-link">Kinh Doanh<span role="presentation" class="dropdown-menu-toggle"><span class="ast-icon icon-arrow"><svg class="ast-arrow-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="26px" height="16.043px" viewbox="57 35.171 26 16.043" enable-background="new 57 35.171 26 16.043" xml:space="preserve"> <path d="M57.5,38.193l12.5,12.5l12.5-12.5l-2.5-2.5l-10,10l-10-10L57.5,38.193z"></path> </svg></span></span></a><button class="ast-menu-toggle" aria-expanded="false"><span class="screen-reader-text">Menu Toggle</span><span class="ast-icon icon-arrow"><svg class="ast-arrow-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="26px" height="16.043px" viewbox="57 35.171 26 16.043" enable-background="new 57 35.171 26 16.043" xml:space="preserve"> <path d="M57.5,38.193l12.5,12.5l12.5-12.5l-2.5-2.5l-10,10l-10-10L57.5,38.193z"></path> </svg></span></button><ul class="sub-menu">
<li id="menu-item-585" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-585"><a href="/category/seo/" class="menu-link"><span class="ast-icon icon-arrow"><svg class="ast-arrow-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="26px" height="16.043px" viewbox="57 35.171 26 16.043" enable-background="new 57 35.171 26 16.043" xml:space="preserve"> <path d="M57.5,38.193l12.5,12.5l12.5-12.5l-2.5-2.5l-10,10l-10-10L57.5,38.193z"></path> </svg></span>SEO</a></li>
<li id="menu-item-167" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-167"><a href="/category/business/social/" class="menu-link"><span class="ast-icon icon-arrow"><svg class="ast-arrow-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="26px" height="16.043px" viewbox="57 35.171 26 16.043" enable-background="new 57 35.171 26 16.043" xml:space="preserve"> <path d="M57.5,38.193l12.5,12.5l12.5-12.5l-2.5-2.5l-10,10l-10-10L57.5,38.193z"></path> </svg></span>Mạng Xã Hội</a></li>
</ul>
</li>
<li id="menu-item-158" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-158"><a href="/about/" class="menu-link">Who is TUAN</a></li>
<li id="menu-item-750" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-750"><a href="/hire-me/" class="menu-link">Dịch vụ của Tuấn</a></li>
<li id="menu-item-685" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-685"><a href="/donate/" class="menu-link">DONATE</a></li>
</ul></div></nav></div></div></div></div>
</div></div></div></div>
<div class="ast-desktop-header-content content-align-flex-start "></div>
</div>
<div id="ast-mobile-header" class="ast-mobile-header-wrap " data-type="dropdown">
<div class="ast-main-header-wrap main-header-bar-wrap"><div class="ast-primary-header-bar ast-primary-header main-header-bar site-primary-header-wrap site-header-focus-item ast-builder-grid-row-layout-default ast-builder-grid-row-tablet-layout-default ast-builder-grid-row-mobile-layout-default" data-section="section-primary-header-builder"><div class="ast-builder-grid-row ast-builder-grid-row-has-sides ast-builder-grid-row-no-center">
<div class="site-header-primary-section-left site-header-section ast-flex site-header-section-left"><div class="ast-builder-layout-element ast-flex site-header-focus-item" data-section="title_tagline"><div class="site-branding ast-site-identity" itemtype="https://schema.org/Organization" itemscope="itemscope"><div class="ast-site-title-wrap"> <span class="site-title" itemprop="name"> <a href="/" rel="home" itemprop="url"> Tuan | ANALYTIC </a> </span>
</div></div></div></div>
<div class="site-header-primary-section-right site-header-section ast-flex ast-grid-right-section"><div class="ast-builder-layout-element ast-flex site-header-focus-item" data-section="section-header-mobile-trigger"><div class="ast-button-wrap"> <button type="button" class="menu-toggle main-header-menu-toggle ast-mobile-menu-trigger-minimal" aria-expanded="false"> <span class="screen-reader-text">Main Menu</span> <span class="mobile-menu-toggle-icon"> <span class="ahfb-svg-iconset ast-inline-flex svg-baseline"><svg class="ast-mobile-svg ast-menu-svg" fill="currentColor" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M3 13h18c0.552 0 1-0.448 1-1s-0.448-1-1-1h-18c-0.552 0-1 0.448-1 1s0.448 1 1 1zM3 7h18c0.552 0 1-0.448 1-1s-0.448-1-1-1h-18c-0.552 0-1 0.448-1 1s0.448 1 1 1zM3 19h18c0.552 0 1-0.448 1-1s-0.448-1-1-1h-18c-0.552 0-1 0.448-1 1s0.448 1 1 1z"></path></svg></span><span class="ahfb-svg-iconset ast-inline-flex svg-baseline"><svg class="ast-mobile-svg ast-close-svg" fill="currentColor" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M5.293 6.707l5.293 5.293-5.293 5.293c-0.391 0.391-0.391 1.024 0 1.414s1.024 0.391 1.414 0l5.293-5.293 5.293 5.293c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414l-5.293-5.293 5.293-5.293c0.391-0.391 0.391-1.024 0-1.414s-1.024-0.391-1.414 0l-5.293 5.293-5.293-5.293c-0.391-0.391-1.024-0.391-1.414 0s-0.391 1.024 0 1.414z"></path></svg></span> </span> </button>
</div></div></div>
</div></div></div>
<div class="ast-mobile-header-content content-align-flex-start "><div class="ast-builder-menu-mobile ast-builder-menu ast-builder-menu-mobile-focus-item ast-builder-layout-element site-header-focus-item" data-section="section-header-mobile-menu"><div class="ast-main-header-bar-alignment"><div class="main-header-bar-navigation"><nav class="site-navigation ast-flex-grow-1 navigation-accessibility site-header-focus-item" id="ast-mobile-site-navigation" aria-label="Site Navigation" itemtype="https://schema.org/SiteNavigationElement" itemscope="itemscope"><div class="main-navigation"><ul id="ast-hf-mobile-menu" class="main-header-menu ast-nav-menu ast-flex  submenu-with-border astra-menu-animation-fade  stack-on-mobile">
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-169"><a href="/" class="menu-link">Trang chủ</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-has-children menu-item-464">
<a href="/category/analytic-vi/" class="menu-link">Phân tích dữ liệu<span role="presentation" class="dropdown-menu-toggle"><span class="ast-icon icon-arrow"><svg class="ast-arrow-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="26px" height="16.043px" viewbox="57 35.171 26 16.043" enable-background="new 57 35.171 26 16.043" xml:space="preserve"> <path d="M57.5,38.193l12.5,12.5l12.5-12.5l-2.5-2.5l-10,10l-10-10L57.5,38.193z"></path> </svg></span></span></a><button class="ast-menu-toggle" aria-expanded="false"><span class="screen-reader-text">Menu Toggle</span><span class="ast-icon icon-arrow"><svg class="ast-arrow-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="26px" height="16.043px" viewbox="57 35.171 26 16.043" enable-background="new 57 35.171 26 16.043" xml:space="preserve"> <path d="M57.5,38.193l12.5,12.5l12.5-12.5l-2.5-2.5l-10,10l-10-10L57.5,38.193z"></path> </svg></span></button><ul class="sub-menu"><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-465"><a href="/category/analytic-vi/csdl-database/" class="menu-link"><span class="ast-icon icon-arrow"><svg class="ast-arrow-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="26px" height="16.043px" viewbox="57 35.171 26 16.043" enable-background="new 57 35.171 26 16.043" xml:space="preserve"> <path d="M57.5,38.193l12.5,12.5l12.5-12.5l-2.5-2.5l-10,10l-10-10L57.5,38.193z"></path> </svg></span>CSDL &#8211; Database</a></li></ul>
</li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-168"><a href="/category/sql/" class="menu-link">Về SQL</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-624"><a href="/category/python/" class="menu-link">Python</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-165"><a href="/category/visualization-vi/" class="menu-link">Vẽ đồ thị</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-170">
<a href="/category/career-vi/" class="menu-link">Công việc<span role="presentation" class="dropdown-menu-toggle"><span class="ast-icon icon-arrow"><svg class="ast-arrow-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="26px" height="16.043px" viewbox="57 35.171 26 16.043" enable-background="new 57 35.171 26 16.043" xml:space="preserve"> <path d="M57.5,38.193l12.5,12.5l12.5-12.5l-2.5-2.5l-10,10l-10-10L57.5,38.193z"></path> </svg></span></span></a><button class="ast-menu-toggle" aria-expanded="false"><span class="screen-reader-text">Menu Toggle</span><span class="ast-icon icon-arrow"><svg class="ast-arrow-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="26px" height="16.043px" viewbox="57 35.171 26 16.043" enable-background="new 57 35.171 26 16.043" xml:space="preserve"> <path d="M57.5,38.193l12.5,12.5l12.5-12.5l-2.5-2.5l-10,10l-10-10L57.5,38.193z"></path> </svg></span></button><ul class="sub-menu"><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-919"><a href="/category/career-vi/tuyen-dung/" class="menu-link"><span class="ast-icon icon-arrow"><svg class="ast-arrow-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="26px" height="16.043px" viewbox="57 35.171 26 16.043" enable-background="new 57 35.171 26 16.043" xml:space="preserve"> <path d="M57.5,38.193l12.5,12.5l12.5-12.5l-2.5-2.5l-10,10l-10-10L57.5,38.193z"></path> </svg></span>Tuyển Dụng</a></li></ul>
</li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-166">
<a href="/category/business/" class="menu-link">Kinh Doanh<span role="presentation" class="dropdown-menu-toggle"><span class="ast-icon icon-arrow"><svg class="ast-arrow-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="26px" height="16.043px" viewbox="57 35.171 26 16.043" enable-background="new 57 35.171 26 16.043" xml:space="preserve"> <path d="M57.5,38.193l12.5,12.5l12.5-12.5l-2.5-2.5l-10,10l-10-10L57.5,38.193z"></path> </svg></span></span></a><button class="ast-menu-toggle" aria-expanded="false"><span class="screen-reader-text">Menu Toggle</span><span class="ast-icon icon-arrow"><svg class="ast-arrow-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="26px" height="16.043px" viewbox="57 35.171 26 16.043" enable-background="new 57 35.171 26 16.043" xml:space="preserve"> <path d="M57.5,38.193l12.5,12.5l12.5-12.5l-2.5-2.5l-10,10l-10-10L57.5,38.193z"></path> </svg></span></button><ul class="sub-menu">
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-585"><a href="/category/seo/" class="menu-link"><span class="ast-icon icon-arrow"><svg class="ast-arrow-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="26px" height="16.043px" viewbox="57 35.171 26 16.043" enable-background="new 57 35.171 26 16.043" xml:space="preserve"> <path d="M57.5,38.193l12.5,12.5l12.5-12.5l-2.5-2.5l-10,10l-10-10L57.5,38.193z"></path> </svg></span>SEO</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-167"><a href="/category/business/social/" class="menu-link"><span class="ast-icon icon-arrow"><svg class="ast-arrow-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="26px" height="16.043px" viewbox="57 35.171 26 16.043" enable-background="new 57 35.171 26 16.043" xml:space="preserve"> <path d="M57.5,38.193l12.5,12.5l12.5-12.5l-2.5-2.5l-10,10l-10-10L57.5,38.193z"></path> </svg></span>Mạng Xã Hội</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-158"><a href="/about/" class="menu-link">Who is TUAN</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-750"><a href="/hire-me/" class="menu-link">Dịch vụ của Tuấn</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-685"><a href="/donate/" class="menu-link">DONATE</a></li>
</ul></div></nav></div></div></div></div>
</div></header><div id="content" class="site-content"><div class="ast-container">
<div id="primary" class="content-area primary"><main id="main" class="site-main"><article class="post-39 post type-post status-publish format-standard has-post-thumbnail hentry category-analytic-vi category-sql tag-data-visualization-vi tag-sankey-vi tag-sql-vi ast-article-single" id="post-39" itemtype="https://schema.org/CreativeWork" itemscope="itemscope"><div class="ast-post-format- single-layout-1">
<header class="entry-header "><h1 class="entry-title" itemprop="headline">Vẽ user-path (Sankey) với tool chùa và SQL</h1>
<div class="entry-meta"> <span class="comments-link"> <a href="/ve-user-path-sankey-voi-tool-chua-va-sql/#respond">Leave a Comment</a> </span> / By <span class="posted-by vcard author" itemtype="https://schema.org/Person" itemscope="itemscope" itemprop="author"> <a title="View all posts by Tuan" href="/author/daogiatuank54/" rel="author" class="url fn n" itemprop="url"> <span class="author-name" itemprop="name">Tuan</span> </a> </span> / <span class="posted-on"><span class="published" itemprop="datePublished"> February 24, 2021</span><span class="updated" itemprop="dateModified"> June 5, 2021</span></span>
</div></header><div class="entry-content clear" ast-blocks-layout="true" itemprop="text">
<p class="has-drop-cap">Chào mừng mọi người đến với blog của mình, hôm nay mình sẽ hướng dẫn các bạn cách tự vẽ 1 cái chart y hệt thế này từ raw data. Chắc hẳn Google Analytics (GA) là một công cụ đã rất quen thuộc với chúng ta, nhất là đối với các bạn làm dữ liệu. User flow là công cụ đặc biệt đem lại góc nhìn overview về business của công ty/ website của bạn với hình ảnh trực quan dễ hiểu như sau.</p>
<figure class="wp-block-image"><img post-id="39" fifu-featured="1" decoding="async" src="https://i.stack.imgur.com/oDMaD.png" alt="Vẽ user-path (Sankey) với tool chùa và SQL" title="Vẽ user-path (Sankey) với tool chùa và SQL"><figcaption>User Path trên Google Analytics</figcaption></figure><p><strong>Điểm trừ của việc sử dụng Google Analytics</strong> đó chính là việc trực quan hóa dữ liệu phải phụ thuộc hoàn toàn vào điều google mong muốn, và mục đích mà GA (cũng như mạnh nhất tới nay) chính là để phân tích web cho nên GA có các giới hạn:</p>
<ul class="wp-block-list">
<li>Chủ thế là người dùng (user): GA chỉ hỗ trợ phân tích đường đi của người dùng khi vào web (web user path) -&gt; Trong thực tế đôi lúc chúng ta sẽ quan tâm đến các chủ thể khác ví dụ đơn hàng/ giao dịch/ requests..v&#8230;..v..</li>
<li>Step (mỗi bước đi) chỉ là địa điểm truy cập: người dùng đi từ url nào tới url nào. -&gt; Ví dụ : Đôi lúc chúng ta không quan tâm các step chính giữa giữa 2 giao dịch và.</li>
</ul>
<p>-&gt; Giải pháp là tự vẽ con chart y vậy với raw data , không cần google nữa :)). Chúng ta có thể làm điều này với Python, R, Excel hay bất cứ công cụ nào. Tuy nhiên, SQL là lựa chọn nhanh nhất nếu chúng ta query dữ liệu trực tiếp từ server, và đặc biệt là khối lượng dữ liệu lớn. Để làm được điều này bạn cần biết 1 lệnh sau:</p>
<ul class="wp-block-list">
<li>Lag: Để phân biệt dòng nào là souce (điểm khởi đầu của flow) , dòng nào là target (điểm kết thúc)</li>
<li>Over Partition over : Để phân biệt theo từng chủ thể (ví dụ nếu chúng ta coi user là chủ thể -&gt; partition theo user để đánh thứ tự các hành động theo thời gian)</li>
<li>Group by: Để nhóm lại các nhóm souce/target thành 1 group ( ví dụ ta có 2 source và 2 target là A B và C D thì A-&gt; B  là  1 group /A -&gt; C là 1 group/ B-&gt; C là 1 group&#8230;.)</li>
</ul>
<p>Dữ liệu mẫu, có dạng như sau: cột Dịch vụ &#8211; Userid &#8211; Thời gian xảy ra giao dịch (datetime). Chúng ta đặt table này là giao_dich</p>
<figure class="wp-block-image size-large"><img fetchpriority="high" decoding="async" width="332" height="394" src="/wp-content/uploads/2021/02/image.png" alt="" class="wp-image-44" srcset="/wp-content/uploads/2021/02/image.png 332w, /wp-content/uploads/2021/02/image-253x300.png 253w" sizes="(max-width: 332px) 100vw, 332px"></figure><div class="wp-block-group"><div class="wp-block-group__inner-container is-layout-flow wp-block-group-is-layout-flow">
<div id="ez-toc-container" class="ez-toc-v2_0_72 counter-hierarchy ez-toc-counter ez-toc-grey ez-toc-container-direction">
<div class="ez-toc-title-container"><p class="ez-toc-title" style="cursor:inherit">Table of Contents</p></div>
<nav><ul class="ez-toc-list ez-toc-list-level-1 ">
<li class="ez-toc-page-1 ez-toc-heading-level-3"><a class="ez-toc-link ez-toc-heading-1" href="#Buoc_1_Tao_thu_tu_cho_dong_du_lieu" title="Bước 1: Tạo thứ tự cho dòng dữ liệu">Bước 1: Tạo thứ tự cho dòng dữ liệu</a></li>
<li class="ez-toc-page-1 ez-toc-heading-level-3"><a class="ez-toc-link ez-toc-heading-2" href="#Buoc_2_Gan_ten_cho_target_va_source" title="Bước 2: Gán tên cho target (và source)">Bước 2: Gán tên cho target (và source)</a></li>
<li class="ez-toc-page-1 ez-toc-heading-level-3"><a class="ez-toc-link ez-toc-heading-3" href="#Buoc_3_Tao_source" title="Bước 3: Tạo source">Bước 3: Tạo source</a></li>
<li class="ez-toc-page-1 ez-toc-heading-level-3"><a class="ez-toc-link ez-toc-heading-4" href="#Buoc_4_Group_by_va_xem_ket_qua_thoi" title="Bước 4: Group by và xem kết quả thôi">Bước 4: Group by và xem kết quả thôi</a></li>
</ul></nav>
</div>
<h3 class="wp-block-heading">
<span class="ez-toc-section" id="Buoc_1_Tao_thu_tu_cho_dong_du_lieu"></span><strong>Bước 1: Tạo thứ tự cho dòng dữ liệu</strong><span class="ez-toc-section-end"></span>
</h3>
</div></div>
<p>Đầu tiên để biết được thứ tự các giao dịch nhưng theo từng userid (ví dụ user A dùng dịch vụ Net đầu tiên (1) sau đó là đến dịch vụ Elec (2) mặc dù 2 dòng dữ liệu này cách nhau nhưng vẫn được đánh số liên tục). Cụ thể trông nó như sau:</p>
<div class="wp-block-media-text alignwide is-stacked-on-mobile" style="grid-template-columns:32% auto">
<figure class="wp-block-media-text__media"><img decoding="async" width="366" height="367" src="/wp-content/uploads/2021/02/image-2.png" alt="" class="wp-image-46 size-full" srcset="/wp-content/uploads/2021/02/image-2.png 366w, /wp-content/uploads/2021/02/image-2-300x300.png 300w, /wp-content/uploads/2021/02/image-2-150x150.png 150w" sizes="(max-width: 366px) 100vw, 366px"></figure><div class="wp-block-media-text__content"><p class="has-large-font-size">Ở dịch vụ Others, mặc dù cùng 1 table nhưng vẫn được đánh số lại từ đầu 1 2 3 khi đã được partition. Đây sẽ là target để chúng ta build dòng SQL. dDòng rn chính là số thứ tự của giao dịch</p></div>
</div>
<p>Vậy câu lệnh SQL cần phải phân biệt được userid để đánh số thứ tự theo thứ tự từ cũ tới mới (date) . Câu lệnh SQL có cấu trúc sau:</p>
<div class="hcb_wrap"><pre class="prism lang-sql" data-lang="SQL"><code>select date,appid,userid, 
       row_number() over ( partition by userid order by date) as rn 
       from giao_dich</code></pre></div>
<p>Trong đó đoạn : row_number() over ( partition by userid order by date) as rn có nghĩa là SQL sẽ chia table ra thành nhiều bảng nhỏ theo từng userid, trong mỗi bảng nhỏ này lại được sắp xếp theo date và được đánh số thứ tự từ trên xuống dưới.</p>
<p>Như vậy ta đã hoàn thành bước 1 , tạo thứ tự cho dòng dữ liệu.</p>
<h3 class="wp-block-heading">
<span class="ez-toc-section" id="Buoc_2_Gan_ten_cho_target_va_source"></span><strong>Bước 2:</strong> <strong>Gán tên cho target</strong> (và source)<span class="ez-toc-section-end"></span>
</h3>
<p>Để phân biệt được target trong user-path có 2 điều cần có trong tên của target: thứ tự (xảy ra lần thứ mấy), tên sự kiện(payment/ access/&#8230;. ở đây đang là payment)</p>
<p>-&gt; Gắn thứ tự và tên hành động bằng cột rn và appid</p>
<div class="hcb_wrap"><pre class="prism lang-sql" data-lang="SQL"><code>select *,concat(&#39;time_&#39;,cast(rn as varchar),&#39;_&#39;,appid) as target  
from(
select date,appid,userid, 
       row_number() over ( partition by userid order by date) as rn 
       from giao_dich
)</code></pre></div>
<h3 class="wp-block-heading">
<span class="ez-toc-section" id="Buoc_3_Tao_source"></span><strong>Bước 3: Tạo source</strong><span class="ez-toc-section-end"></span>
</h3>
<p>Source tức là hành động trước đó 1 bước so với hành động hiện tại -&gt; đối với mỗi userid chúng ta lại cho cột event lùi lên 1 dòng. Chúng ta sẽ dùng lag</p>
<div class="hcb_wrap"><pre class="prism lang-sql" data-lang="SQL"><code>select *,lag(target, 1) over(partition by userid order by date) as source 
from(
select *,concat(&#39;time_&#39;,cast(rn as varchar),&#39;_&#39;,appid) as target  
from(
select date,appid,userid, 
       row_number() over ( partition by userid order by date) as rn 
       from giao_dich
))</code></pre></div>
<div class="wp-block-media-text alignwide is-stacked-on-mobile">
<figure class="wp-block-media-text__media"><img decoding="async" width="637" height="382" src="/wp-content/uploads/2021/02/image-3.png" alt="" class="wp-image-47 size-full" srcset="/wp-content/uploads/2021/02/image-3.png 637w, /wp-content/uploads/2021/02/image-3-300x180.png 300w" sizes="(max-width: 637px) 100vw, 637px"></figure><div class="wp-block-media-text__content"><p class="has-large-font-size">Kết quả của bước 2,3 sẽ cho chúng ta dữ liệu tương tự thế này. Bây giờ chúng ta chỉ cần group lại theo target và source là đã có thể tạo ra chart user-path rồi</p></div>
</div>
<h3 class="wp-block-heading">
<span class="ez-toc-section" id="Buoc_4_Group_by_va_xem_ket_qua_thoi"></span><strong>Bước 4: Group by và xem kết quả thôi</strong><span class="ez-toc-section-end"></span>
</h3>
<p>Chúng ta sẽ count distinct số lượng người dùng theo từng cặp source target, như vậy cần group by 2 lần, câu SQL sẽ như sau.</p>
<div class="hcb_wrap"><pre class="prism lang-sql" data-lang="SQL"><code>select source,target,count(distinct userid) as value
from(
select *,lag(target, 1) over(partition by userid order by date) as source 
from(
select *,concat(&#39;time_&#39;,cast(rn as varchar),&#39;_&#39;,appid) as target  
from(
select date,appid,userid, 
       row_number() over ( partition by userid order by date) as rn 
       from giao_dich
))
-- Chú ý rn dưới 5 chỉ lấy 5 step cho dễ nhìn
where rn &lt;= 5
) group by source,target
</code></pre></div>
<div class="wp-block-media-text alignwide is-stacked-on-mobile" style="grid-template-columns:34% auto">
<figure class="wp-block-media-text__media"><img loading="lazy" decoding="async" width="331" height="354" src="/wp-content/uploads/2021/02/image-4.png" alt="" class="wp-image-48 size-full" srcset="/wp-content/uploads/2021/02/image-4.png 331w, /wp-content/uploads/2021/02/image-4-281x300.png 281w" sizes="auto, (max-width: 331px) 100vw, 331px"></figure><div class="wp-block-media-text__content">
<p>Kết quả của bảng dữ liệu cuối trông như thế này, đã đủ source (bước thứ mấy từ dịch vụ gì đến dịch vụ gì, bao nhiêu người dùng).</p>
<p>Ví dụ chúng ta có thể thấy có 315 người dùng Water tiếp tục tiến tới dùng TV ở lần thứ 3 ngay tại dòng đầu tiên. Tương tự vậy cho các dịch vụ khác</p>
</div>
</div>
<p>Sau khi đã có được kết quả cụ thể connection giữa từng source, target và value chúng ta có thể lên trang: <a href="http://sankey-diagram-generator.acquireprocure.com/">Sankey Diagram Generator v1.2 (acquireprocure.com)</a> để tạo sankey miễn phí. Nhấn vào load your own data và chọn CSV, copy toàn bộ CSV của mình vào và voila chúng ta đã có kết quả cuối cùng! Như đã note vì mình dừng lại ở rn &lt;= 5 cho nên chart cũng chỉ dừng lại ở step 5. Vì data thật có chút nhạy cảm nên thông cảm cho mình sử dụng sensor nhé :D.</p>
<figure class="wp-block-image size-large is-resized"><img loading="lazy" decoding="async" src="/wp-content/uploads/2021/02/image-5-1024x411.png" alt="image-5" class="wp-image-49" width="879" height="353"><figcaption>Sankey tuyệt đẹp từ tool chùa</figcaption></figure><p>Ngoài ra còn có nhiều loại sankey từ các thư viện R, Python. Chỉ cần bạn có thể lấy được kết quả theo format trên, chúng ta đã có thể vẽ được user-path mà customized hơn Google Analytics rất nhiều.</p>
<p>Trong bài viết cách viết SQL của mình không tối ưu, tuy nhiên rất rõ ràng từng step để làm nổi bật ý tưởng hơn. Nếu bạn nào có cách viết tối ưu, ít nesting hơn vui lòng góp ý dưới comment để mọi người có thể sử dụng và tham khảo thêm nhé.</p>
<p>Cảm ơn các bạn.</p>
</div>
</div></article><nav class="navigation post-navigation" role="navigation" aria-label="Posts"> <span class="screen-reader-text">Post navigation</span><div class="nav-links"><div class="nav-next"><a href="/nguoi-dung-phan-doan-tai-sao-no-quan-trong/" rel="next">Next Post <span class="ast-right-arrow">&rarr;</span></a></div></div></nav><div id="comments" class="comments-area"><div id="respond" class="comment-respond">
<h3 id="reply-title" class="comment-reply-title">Leave a Comment <small><a rel="nofollow" id="cancel-comment-reply-link" href="/ve-user-path-sankey-voi-tool-chua-va-sql/#respond" style="display:none;">Cancel Reply</a></small>
</h3>
<p class="must-log-in">You must be <a href="/wp-login.php?redirect_to=https%3A%2F%2F%2Fve-user-path-sankey-voi-tool-chua-va-sql%2F">logged in</a> to post a comment.</p>
</div></div></main></div>
<div class="widget-area secondary" id="secondary" itemtype="https://schema.org/WPSideBar" itemscope="itemscope"><div class="sidebar-main">
<aside id="recent-posts-widget-with-thumbnails-10" class="widget recent-posts-widget-with-thumbnails"><div id="rpwwt-recent-posts-widget-with-thumbnails-10" class="rpwwt-widget">
<h2 class="widget-title">Nội dung khác</h2>
<nav role="navigation" aria-label="Nội dung khác"><ul><li><a href="/notebooklm-la-gi/"><img post-id="1231" fifu-featured="1" width="300" height="157" src="/wp-content/uploads/2024/12/notebook_lm_share-1024x535.png" class="attachment-300x180 size-300x180 wp-post-image" alt="NotebookLM là gì?" title="NotebookLM là gì?" decoding="async" loading="lazy"><span class="rpwwt-post-title">NotebookLM là gì?</span></a></li></ul></nav>
</div></aside><aside id="custom_html-5" class="widget_text widget widget_custom_html"><h2 class="widget-title">Sponsored</h2>
<div class="textwidget custom-html-widget">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" type="e25daf01e64b84dcb3e9141b-text/javascript"></script>  <ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-5877339755641507" data-ad-slot="6184728575"></ins> <script type="e25daf01e64b84dcb3e9141b-text/javascript">(adsbygoogle = window.adsbygoogle || []).push({});</script>
</div></aside>
</div></div>
</div></div>
<footer class="site-footer" id="colophon" itemtype="https://schema.org/WPFooter" itemscope="itemscope" itemid="#colophon"><div class="site-below-footer-wrap ast-builder-grid-row-container site-footer-focus-item ast-builder-grid-row-full ast-builder-grid-row-tablet-full ast-builder-grid-row-mobile-full ast-footer-row-stack ast-footer-row-tablet-stack ast-footer-row-mobile-stack" data-section="section-below-footer-builder"><div class="ast-builder-grid-row-container-inner"><div class="ast-builder-footer-grid-columns site-below-footer-inner-wrap ast-builder-grid-row"><div class="site-footer-below-section-1 site-footer-section site-footer-section-1"><div class="ast-builder-layout-element ast-flex site-footer-focus-item ast-footer-copyright" data-section="section-footer-builder"><div class="ast-footer-copyright"><p>Copyright &copy; 2025 Tuan | ANALYTIC | Powered by <a href="https://wpastra.com/" rel="nofollow noopener" target="_blank">Astra WordPress Theme</a></p></div></div></div></div></div></div></footer>
</div>
<div id="ast-scroll-top" class="ast-scroll-top-icon ast-scroll-to-top-right" data-on-devices="both"> <span class="ast-icon icon-arrow"><svg class="ast-arrow-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="26px" height="16.043px" viewbox="57 35.171 26 16.043" enable-background="new 57 35.171 26 16.043" xml:space="preserve"> <path d="M57.5,38.193l12.5,12.5l12.5-12.5l-2.5-2.5l-10,10l-10-10L57.5,38.193z"></path> </svg></span> <span class="screen-reader-text">Scroll to Top</span>
</div> <script type="application/ld+json" id="slim-seo-schema">{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"/#website","url":"/","name":"Tuan | ANALYTIC","description":"Sharing ideas and knowledge","inLanguage":"en-US","potentialAction":{"@id":"/#searchaction"},"publisher":{"@id":"/#organization"}},{"@type":"SearchAction","@id":"/#searchaction","target":"/?s={search_term_string}","query-input":"required name=search_term_string"},{"@type":"BreadcrumbList","name":"Breadcrumbs","@id":"/ve-user-path-sankey-voi-tool-chua-va-sql/#breadcrumblist","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"/"},{"@type":"ListItem","position":2,"name":"Phân tích dữ liệu","item":"/category/analytic-vi/"},{"@type":"ListItem","position":3,"name":"Vẽ user-path (Sankey) với tool chùa và SQL"}]},{"@type":"WebPage","@id":"/ve-user-path-sankey-voi-tool-chua-va-sql/#webpage","url":"/ve-user-path-sankey-voi-tool-chua-va-sql/","inLanguage":"en-US","name":"Vẽ user-path (Sankey) với tool chùa và SQL – Tuan | ANALYTIC","description":"Trực quan hóa dữ liệu, học phân tích dữ liệu cùng Tuấn.Sử dụng SQL để vẽ user path, sankey chart giống hệt Google Analytics, hướng dẫn chi tiết .","datePublished":"2021-02-24T06:32:04+00:00","dateModified":"2021-06-05T01:24:13+00:00","isPartOf":{"@id":"/#website"},"breadcrumb":{"@id":"/ve-user-path-sankey-voi-tool-chua-va-sql/#breadcrumblist"},"potentialAction":{"@id":"/ve-user-path-sankey-voi-tool-chua-va-sql/#readaction"},"primaryImageOfPage":{"@id":"/ve-user-path-sankey-voi-tool-chua-va-sql/#thumbnail"},"image":{"@id":"/ve-user-path-sankey-voi-tool-chua-va-sql/#thumbnail"}},{"@type":"ReadAction","@id":"/ve-user-path-sankey-voi-tool-chua-va-sql/#readaction","target":"/ve-user-path-sankey-voi-tool-chua-va-sql/"},{"@type":"Organization","@id":"/#organization","url":"/","name":"Tuan | ANALYTIC"},{"@type":"ImageObject","@id":"/ve-user-path-sankey-voi-tool-chua-va-sql/#thumbnail","url":"https://i.stack.imgur.com/oDMaD.png","contentUrl":"https://i.stack.imgur.com/oDMaD.png","width":1430,"height":679},{"@type":"Article","@id":"/ve-user-path-sankey-voi-tool-chua-va-sql/#article","url":"/ve-user-path-sankey-voi-tool-chua-va-sql/","headline":"Vẽ user-path (Sankey) với tool chùa và SQL","datePublished":"2021-02-24T06:32:04+00:00","dateModified":"2021-06-05T01:24:13+00:00","wordCount":1593,"keywords":["data visualization","sankey","sql"],"articleSection":["Phân tích dữ liệu","Về SQL"],"isPartOf":{"@id":"/ve-user-path-sankey-voi-tool-chua-va-sql/#webpage"},"mainEntityOfPage":{"@id":"/ve-user-path-sankey-voi-tool-chua-va-sql/#webpage"},"image":{"@id":"/ve-user-path-sankey-voi-tool-chua-va-sql/#thumbnail"},"publisher":{"@id":"/#organization"},"author":{"@id":"/#/schema/person/8d45c43643669fea13ffb5b78b3d6190"}},{"@type":"Person","@id":"/#/schema/person/8d45c43643669fea13ffb5b78b3d6190","url":"","name":"Tuan","image":"/wp-content/uploads/2021/02/1573570784816-1-96x96.jpeg"}]}</script> <div id="fb-root"></div> <script id="astra-theme-js-js-extra" type="e25daf01e64b84dcb3e9141b-text/javascript">var astra = {"break_point":"921","isRtl":"","is_scroll_to_id":"1","is_scroll_to_top":"1"};</script> <script id="q2w3_fixed_widget-js-extra" type="e25daf01e64b84dcb3e9141b-text/javascript">var q2w3_sidebar_options = [{"sidebar":"sidebar-1","use_sticky_position":false,"margin_top":80,"margin_bottom":0,"stop_elements_selectors":"","screen_max_width":0,"screen_max_height":0,"widgets":["#recent-posts-widget-with-thumbnails-10","#custom_html-5"]}];</script> <script id="hcb-script-js-extra" type="e25daf01e64b84dcb3e9141b-text/javascript">var hcbVars = {"showCopyBtn":"1","copyBtnLabel":"Copy code to clipboard"};</script> <script id="fifu-json-ld-js-extra" type="e25daf01e64b84dcb3e9141b-text/javascript">var fifuJsonLd = {"url":"https:\/\/i.stack.imgur.com\/oDMaD.png"};</script> <script type="e25daf01e64b84dcb3e9141b-text/javascript">/(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var t,e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(t=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())},!1);</script> <script defer src="/wp-content/cache/autoptimize/js/autoptimize_3fb17b858005d0adddd45ceacf5b248e.js" type="e25daf01e64b84dcb3e9141b-text/javascript"></script><script src="/cdn-cgi/scripts/7d0fa10a/cloudflare-static/rocket-loader.min.js" data-cf-settings="e25daf01e64b84dcb3e9141b-|49" defer></script>
</body>
</html>